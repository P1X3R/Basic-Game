mod player;

use player::Player;
use raylib::prelude::*;

fn main() {
    // ------------------------------------------------------------------------------------
    // Initialize variables
    // ------------------------------------------------------------------------------------
    let (mut rl, thread) = raylib::init().size(640, 480).title("Basic Game").build();

    let mut player: Player = Player {
        x: rl.get_screen_width().as_f32() / 2.0,
        y: rl.get_screen_height().as_f32() / 2.0,
        width: 30.0,
        height: 30.0,
        speed: 1.0,
    };
    // ------------------------------------------------------------------------------------

    // ------------------------------------------------------------------------------------
    // Game loop
    // ------------------------------------------------------------------------------------
    while !rl.window_should_close() {
        let mut d = rl.begin_drawing(&thread);

        // ------------------------------------------------------------------------------------
        // Event handling
        // ------------------------------------------------------------------------------------
        player.movement(&d);
        player.edge_collision(&d);
        // ------------------------------------------------------------------------------------

        // ------------------------------------------------------------------------------------
        // Draw elements
        // ------------------------------------------------------------------------------------
        d.clear_background(Color::WHITE);
        d.draw_rectangle(
            player.x as i32,
            player.y as i32,
            player.width as i32,
            player.height as i32,
            Color::BLACK,
        );
        // ------------------------------------------------------------------------------------
    }
    // ------------------------------------------------------------------------------------
}
